
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>Import of elog data Â· HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.4">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../Operator/" />
    
    
    <link rel="prev" href="PythonSDK.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    SciLog Overview and Concepts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Users/">
            
                <a href="../Users/">
            
                    
                    User Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Users/Login.html">
            
                <a href="../Users/Login.html">
            
                    
                    Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Users/Dashboard.html">
            
                <a href="../Users/Dashboard.html">
            
                    
                    Overview Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../Users/Logbook.html">
            
                <a href="../Users/Logbook.html">
            
                    
                    Logbook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../Users/Sharing.html">
            
                <a href="../Users/Sharing.html">
            
                    
                    Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../Users/SmartphoneUsage.html">
            
                <a href="../Users/SmartphoneUsage.html">
            
                    
                    Smartphone
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    Ingestor Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="RestAPI.html">
            
                <a href="RestAPI.html">
            
                    
                    REST API Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="PythonSDK.html">
            
                <a href="PythonSDK.html">
            
                    
                    Python SDK Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.3" data-path="MigrateElogData.html">
            
                <a href="MigrateElogData.html">
            
                    
                    Import of elog data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Operator/">
            
                <a href="../Operator/">
            
                    
                    Operator Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../Operator/Login.md">
            
                <span>
            
                    
                    Login and Accounts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../Operator/Step_by_Step_Setup.html">
            
                <a href="../Operator/Step_by_Step_Setup.html">
            
                    
                    Step by Step instruction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../Operator/Step_by_Step_Setup_Docker.html">
            
                <a href="../Operator/Step_by_Step_Setup_Docker.html">
            
                    
                    Deploy with Docker Compose
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                <a href="../Operator/Step_by_Step_Setup_Kubernetes.html">
            
                    
                    Deploy with Kubernetes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Development/">
            
                <a href="../Development/">
            
                    
                    Developers Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Development/Data_Model.html">
            
                <a href="../Development/Data_Model.html">
            
                    
                    An Introduction to the Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Development/LocalDevelopment.html">
            
                <a href="../Development/LocalDevelopment.html">
            
                    
                    Local Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../Development/RunningTests.html">
            
                <a href="../Development/RunningTests.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../Development/Contributing.html">
            
                <a href="../Development/Contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../Development/Documentation.html">
            
                <a href="../Development/Documentation.html">
            
                    
                    Adding Documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../Development/GitHubFlow.html">
            
                <a href="../Development/GitHubFlow.html">
            
                    
                    GitHub Flow
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <a target="_blank" href="https://scilog.psi.ch/api/v1/explorer">
            
                    
                    Example of API Documentation
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Import of elog data</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="migration-of-data-from-elog-to-scilog">Migration of data from elog to SciLog</h1>
<p>You may have data residing in the <a href="https://elog.psi.ch/elog/" target="_blank">electronic logbook system from Stefan Ritt</a> .
In case you want to migrate this data to SciLog, here is a description of the steps needed. 
Please note that the concrete steps will likely need adjustments to your specific elog notebooks, 
e.g. depending on the structure of the fields that have been used in elog.</p>
<p>The whole process is a 3 step procedure: the example scripts are assuming that you have a working Python environment, e.g. setup via conda.</p>
<pre><code># get the python SDK to talk to elog logbooks
pip install py-elog
# get the python SDK to talk to SciLog logbooks
cd importTools
pip install -r requirements.txt
</code></pre><h2 id="step-1-dump-data-from-elog">Step 1: Dump data from elog</h2>
<pre><code>cd elog
# create dump file of all entries in elogbook including images
./elogdump.py URL-TO-ELOG-BOOK 
# extract author information form dump files
./collect_authors.py
# and map authors to email address in 
./convert_authors.py
</code></pre><h2 id="step-2-convert-to-scilog-syntax">Step 2: Convert to scilog syntax</h2>
<pre><code># this step creates the file scilog.json
./e2sci.py
</code></pre><h2 id="step-3-import-dumped-data-to-scilog">Step 3: Import dumped data to SciLog</h2>
<pre><code>cd ..
# select the proper env file one for the right destination
source import.env 
# initialize locations and logbooks from proposal data inside SciLog
# this step is highly site specific. 
# In the example this information is fetched from the proposal data stored inside the data catalog
# which itself is derived from the data inside the digital user office.
# For your site you may want to add this information manually instead
./update_locations.py
# now fill the logbooks with data dumped from elog
./importToScilog.py
</code></pre><p>Here is an example import. env files:</p>
<pre><code># for tests on local system
export SCICAT_URL=https://dacat.psi.ch/api/v3
export SCICAT_LOGIN=Users/login
export SCICAT_USERNAME=proposalIngestor
export SCICAT_PWD=....
export SCILOG_URL=http://localhost:3000
export SCILOG_LOGIN=users/login
export SCILOG_USERNAME=scilog-admin@psi.ch
export SCILOG_PWD=....
export SCILOG_DEFAULT_LOGBOOK_ICON=../sci-log-db/src/scilog_config_PSI/default_logbook_icon.jpg
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="PythonSDK.html" class="navigation navigation-prev " aria-label="Previous page: Python SDK Usage">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../Operator/" class="navigation navigation-next " aria-label="Next page: Operator Guide">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Import of elog data","level":"1.3.3","depth":2,"next":{"title":"Operator Guide","level":"1.4","depth":1,"path":"Operator/README.md","ref":"Operator/README.md","articles":[{"title":"Login and Accounts","level":"1.4.1","depth":2,"path":"Operator/Login.md","ref":"Operator/Login.md","articles":[]},{"title":"Step by Step instruction","level":"1.4.2","depth":2,"path":"Operator/Step_by_Step_Setup.md","ref":"Operator/Step_by_Step_Setup.md","articles":[]},{"title":"Deploy with Docker Compose","level":"1.4.3","depth":2,"path":"Operator/Step_by_Step_Setup_Docker.md","ref":"Operator/Step_by_Step_Setup_Docker.md","articles":[]},{"title":"Deploy with Kubernetes","level":"1.4.4","depth":2,"path":"Operator/Step_by_Step_Setup_Kubernetes.md","ref":"Operator/Step_by_Step_Setup_Kubernetes.md","articles":[]}]},"previous":{"title":"Python SDK Usage","level":"1.3.2","depth":2,"path":"Ingestor/PythonSDK.md","ref":"Ingestor/PythonSDK.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Ingestor/MigrateElogData.md","mtime":"2022-12-05T11:27:49.201Z","type":"markdown"},"gitbook":{"version":"4.0.4","time":"2022-12-05T11:28:02.198Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

